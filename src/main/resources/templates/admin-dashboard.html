<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - VideoHub</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
</head>
<body>
<header>
    <nav class="navbar">
        <div class="nav-brand">
            <h1><a href="/" style="color: #ffffff; text-decoration: none;">ğŸ¬ VideoHub Admin</a></h1>
        </div>
        <div class="nav-user">
            <span class="admin-indicator">âš™ï¸ Admin Panel</span>
            <button class="btn btn-secondary" onclick="window.location.href='/'">ğŸ  Home</button>
            <button class="btn btn-secondary" onclick="window.location.href='/profile.html'">ğŸ‘¤ Profile</button>
            <button class="btn" onclick="logout()">ğŸšª Logout</button>
        </div>
    </nav>
</header>

<main class="admin-main">
    <div class="admin-container">
        <!-- Dashboard Header -->
        <div class="admin-header">
            <h1>ğŸ“Š Admin Dashboard</h1>
            <div class="admin-actions">
                <button class="btn" onclick="refreshDashboard()">ğŸ”„ Refresh</button>
                <button class="btn btn-secondary" onclick="exportSystemReport()">ğŸ“‹ Export Report</button>
            </div>
        </div>

        <!-- System Status -->
        <div class="system-status">
            <div class="status-item">
                <span class="status-indicator online"></span>
                <span>System Online</span>
            </div>
            <div class="status-item">
                <span class="status-indicator" id="dbStatus"></span>
                <span>Database</span>
            </div>
            <div class="status-item">
                <span class="status-indicator" id="storageStatus"></span>
                <span>Storage</span>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="dashboard-stats">
            <div class="stat-card primary">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-info">
                    <h3 id="totalUsers">0</h3>
                    <p>Total Users</p>
                    <div class="stat-change positive" id="userGrowth">+0%</div>
                </div>
            </div>
            <div class="stat-card secondary">
                <div class="stat-icon">ğŸ“¹</div>
                <div class="stat-info">
                    <h3 id="totalVideos">0</h3>
                    <p>Total Videos</p>
                    <div class="stat-change positive" id="videoGrowth">+0%</div>
                </div>
            </div>
            <div class="stat-card tertiary">
                <div class="stat-icon">ğŸ‘ï¸</div>
                <div class="stat-info">
                    <h3 id="totalViews">0</h3>
                    <p>Total Views</p>
                    <div class="stat-change positive" id="viewGrowth">+0%</div>
                </div>
            </div>
            <div class="stat-card warning">
                <div class="stat-icon">âš ï¸</div>
                <div class="stat-info">
                    <h3 id="pendingReports">0</h3>
                    <p>Pending Reports</p>
                    <div class="stat-change urgent">Needs Review</div>
                </div>
            </div>
        </div>

        <!-- Admin Navigation Tabs -->
        <div class="admin-tabs">
            <button class="admin-tab-button active" onclick="showAdminTab('overview', this)">ğŸ“Š Overview</button>
            <button class="admin-tab-button" onclick="showAdminTab('users', this)">ğŸ‘¥ Users</button>
            <button class="admin-tab-button" onclick="showAdminTab('videos', this)">ğŸ“¹ Videos</button>
            <button class="admin-tab-button" onclick="showAdminTab('reports', this)">âš ï¸ Reports</button>
            <button class="admin-tab-button" onclick="showAdminTab('categories', this)">ğŸ“ Categories</button>
            <button class="admin-tab-button" onclick="showAdminTab('analytics', this)">ğŸ“ˆ Analytics</button>
            <button class="admin-tab-button" onclick="showAdminTab('settings', this)">âš™ï¸ Settings</button>
        </div>

        <!-- Overview Tab -->
        <div id="overviewTab" class="admin-tab-content">
            <div class="overview-grid">
                <!-- Recent Activity -->
                <div class="overview-section">
                    <h3>ğŸ“‹ Recent Activity</h3>
                    <div id="recentActivity" class="activity-list">
                        <div class="loading">Loading recent activity...</div>
                    </div>
                </div>

                <!-- System Health -->
                <div class="overview-section">
                    <h3>ğŸ¥ System Health</h3>
                    <div class="health-metrics">
                        <div class="health-item">
                            <span>CPU Usage:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="cpuUsage" style="width: 45%"></div>
                            </div>
                            <span>45%</span>
                        </div>
                        <div class="health-item">
                            <span>Memory:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="memoryUsage" style="width: 62%"></div>
                            </div>
                            <span>62%</span>
                        </div>
                        <div class="health-item">
                            <span>Storage:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="storageUsage" style="width: 78%"></div>
                            </div>
                            <span>78%</span>
                        </div>
                    </div>
                </div>

                <!-- Top Videos -->
                <div class="overview-section">
                    <h3>ğŸ”¥ Top Performing Videos</h3>
                    <div id="topVideos" class="top-videos-list">
                        <div class="loading">Loading top videos...</div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="overview-section">
                    <h3>âš¡ Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="action-btn" onclick="moderateContent()">
                            <span>ğŸ›¡ï¸</span>
                            <div>
                                <strong>Moderate Content</strong>
                                <small>Review flagged videos</small>
                            </div>
                        </button>
                        <button class="action-btn" onclick="manageUsers()">
                            <span>ğŸ‘¥</span>
                            <div>
                                <strong>Manage Users</strong>
                                <small>User administration</small>
                            </div>
                        </button>
                        <button class="action-btn" onclick="systemSettings()">
                            <span>âš™ï¸</span>
                            <div>
                                <strong>System Settings</strong>
                                <small>Configure platform</small>
                            </div>
                        </button>
                        <button class="action-btn" onclick="viewAnalytics()">
                            <span>ğŸ“Š</span>
                            <div>
                                <strong>View Analytics</strong>
                                <small>Platform insights</small>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Tab -->
        <div id="usersTab" class="admin-tab-content" style="display: none;">
            <div class="tab-header">
                <h2>ğŸ‘¥ User Management</h2>
                <div class="tab-controls">
                    <input type="text" id="userSearchInput" placeholder="Search users..." style="width: 250px;">
                    <select id="userRoleFilter">
                        <option value="">All Roles</option>
                        <option value="REGISTERED_USER">Regular Users</option>
                        <option value="CONTENT_CREATOR">Content Creators</option>
                        <option value="ADMIN">Admins</option>
                    </select>
                    <button class="btn" onclick="searchUsers()">ğŸ” Search</button>
                    <button class="btn btn-secondary" onclick="exportUserData()">ğŸ“Š Export</button>
                </div>
            </div>
            <div id="usersList" class="users-list">
                <div class="loading">Loading users...</div>
            </div>
            <div class="pagination" id="usersPagination"></div>
        </div>

        <!-- Videos Tab -->
        <div id="videosTab" class="admin-tab-content" style="display: none;">
            <div class="tab-header">
                <h2>ğŸ“¹ Video Management</h2>
                <div class="tab-controls">
                    <input type="text" id="videoSearchInput" placeholder="Search videos..." style="width: 250px;">
                    <select id="videoStatusFilter">
                        <option value="">All Status</option>
                        <option value="PUBLIC">Public</option>
                        <option value="PRIVATE">Private</option>
                        <option value="PENDING">Pending Review</option>
                        <option value="FLAGGED">Flagged</option>
                    </select>
                    <button class="btn" onclick="searchVideos()">ğŸ” Search</button>
                    <button class="btn btn-secondary" onclick="exportVideoData()">ğŸ“Š Export</button>
                </div>
            </div>
            <div id="videosList" class="videos-list">
                <div class="loading">Loading videos...</div>
            </div>
            <div class="pagination" id="videosPagination"></div>
        </div>

        <!-- Reports Tab -->
        <div id="reportsTab" class="admin-tab-content" style="display: none;">
            <div class="tab-header">
                <h2>âš ï¸ Report Management</h2>
                <div class